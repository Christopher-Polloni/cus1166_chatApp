<!DOCTYPE html>

<html>
<head>
<title> Subgroup | Total Collab </title>
<meta name= "viewport" content= "width=device-width, initial-scale=1.0">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>

  <script type=text/javascript>
    $(document).ready(function() {
	     var socket = io.connect('http://127.0.0.1:5000/');
	      socket.on('connect', function() {
		        socket.send('A user entered the room');
	});
	      socket.on('message', function(msg) {
		        $("#messages").append('<li>'+msg+'</li>');
		          console.log('Received message');
	});
	   $('#sendbutton').on('click', function() {
		     socket.send($('#myMessage').val());
		       $('#myMessage').val('');
	});
});

  </script>
<link href="https://fonts.googleapis.com/css?family=PT+Sans|Raleway" rel="stylesheet">
<style>
  .sidenav {
    height: 100%;
    width: 20%;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: #B0C4DE;
    overflow-x: hidden;
  }
  .sidenav a {
    color: white;
    font-size: 20px;
    text-align: left;
    font-family: 'PT Sans' sans-serif;
    text-decoration: none;
    display: block;
    padding-top: 50px;
  }
  .sidenav b {
    color: white;
    font-size: 45px;
    text-align: left;
    font-family: 'PT Sans' sans-serif;
    text-decoration: none;
    display: block;
    padding-top: 85px;
  }
  .sidenav c {
    color: white;
    font-size: 30px;
    text-align: left;
    font-family: 'PT Sans' sans-serif;
    text-decoration: none;
    display: block;
    padding-top: 45px;
  }
  .footer {
   position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   background-color: #B0C4DE;
   color: white;
   text-align: left;
}
  .content{
    position: fixed;
    padding-left: 400px;
    top: 0;
    width: 100%;
    color: black;
    text-align: left;
  }
  h1{
    font size: 60px;
    text-align: center;
    font-family: 'Raleway', sans-serif;
    padding-top: 200px;
    padding-left: 400px;
  }
  h2{
    font size: 40px;
    text-align: center;
    font-family: 'Raleway', sans-serif;
    padding-top: 40px;
    padding-left: 400px;
  }
  img{
    float: left;
    padding-left: 30px;
    padding-top: 5px;
    padding-bottom: 10px;
  }
  form{
    width: 400px;
    padding-top: 10px;
    padding-bottom: 10px;
    text-align: center;
 }
 input {
   font-size: 20px;
   text-align: left;
   width: 400px;
   padding-left:400px;
   padding-bottom: 10px;
 }
 button {
   font-size: 20px;
   text-align: left;
   width: 80px;
 }
  </style>
  </head>
  <body>

    <div class="sidenav">
      <a href="{{ url_for('index')}}"><img border="0" alt="TC Logo" src="https://i.imgur.com/d21rm41.jpg" width="200" height="100"></a>
      <b><a href="{{ url_for('workspace', workspaceId = workspace.id) }}" style="font-size: 30px;">{{workspace.workspaceName}}</a></b>
      <c>{{subgroup.name}}</c>
    </div>

    {% block scripts %}
    {{ moment.include_jquery() }}
    {{ moment.include_moment() }}
    {% endblock %}

    <div class="content">
      <ul id="messages">
      {% for msg in messages %}
       </br>{{msg}}<br></br>
      {% endfor %}
      {% if newer_url %}
      <a href="{{ newer_url }}">Newer Messages</a>
      {% endif %}
      {% if older_url %}
      <a href="{{ older_url }}">Older Messages</a>
      {% endif %}
    </ul>
    </div>

    <div class="footer">
      <input type="text" id="myMessage"></input>
      <button id="sendbutton">Send</button>
      <form class="navbar-form navbar-left" method="get"
                        action="{{ url_for('search', workspaceId = workspace.id, subgroupId = subgroup.id) }}">
                    <div class="form-group">
                        {{ g.search_form.q(size=20, class='form-control',
                            placeholder=g.search_form.q.label.text) }}
                    </div>
      </form>
    </div>
  </body>
  </html>
